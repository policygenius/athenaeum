#!/bin/sh

FILES=$(
  { git diff --name-only HEAD^ && \
    git ls-files --others --exclude-standard; } | \
    cat | grep "\.jsx\|\.js\?$"
  )

echo "----- Files to lint -----"
if [ -z ${FILES} ]
then
  echo "No files to lint. Exiting..."
  echo
  exit 0
fi

printf '%s\n' ${FILES}
echo
echo +++ Linting JS:
echo ${FILES} | xargs yarn lint:eslint --quiet
